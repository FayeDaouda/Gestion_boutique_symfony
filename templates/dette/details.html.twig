{% extends 'base.html.twig' %}

{% block title %}Détails de la Dette{% endblock %}

{% block body %}
<div class="container mx-auto p-6">
    <h1 class="text-2xl font-bold mb-4">Détails de la Dette</h1>

    <!-- Informations sur la dette -->
    <div class="bg-gray-100 p-4 rounded-lg mb-6">
        <p><strong>Date :</strong> {{ dette.date | date('d/m/Y') }}</p>
        <p><strong>Montant :</strong> {{ dette.montant }} €</p>
        <p><strong>Montant Versé :</strong> {{ dette.montantVerser }} €</p>
        <p><strong>Montant Restant :</strong> {{ dette.montant - dette.montantVerser }} €</p>
    </div>

        <!-- Liste des articles associés -->
    <h2 class="text-xl font-semibold mb-4">Articles associés</h2>
    {% if articles is not empty %}
        <ul class="list-disc list-inside mb-6">
            {% for article in articles %}
                <li>{{ article.nom }} ({{ article.prix }} €)</li>
            {% endfor %}
        </ul>
    {% else %}
        <p class="text-gray-500">Aucun article associé à cette dette.</p>
    {% endif %}


    <!-- Liste des paiements associés -->
    <h2 class="text-xl font-semibold mb-4">Paiements associés</h2>
    {% if paiements is not empty %}
        <ul class="list-disc list-inside">
            {% for paiement in paiements %}
                <li>
                    <strong>Date :</strong> {{ paiement.date | date('d/m/Y') }},
                    <strong>Montant :</strong> {{ paiement.amount }} €
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p class="text-gray-500">Aucun paiement enregistré pour cette dette.</p>
    {% endif %}

    <a href="{{ path('client_show', {'id': dette.client.id}) }}" class="mt-4 inline-block bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">
        Retour au client
    </a>
</div>
{% endblock %}
